<?xml version="1.0" encoding="utf-8"?>
<application id="PradoExample" Mode="Debug">

 <paths>
    <using namespace="Application.database.*" />
  </paths>


  <modules>
    <!-- Database Configuration -->
    <module id="db" class="System.Data.TDataSourceConfig">
      <database ConnectionString="mysql:host=db;dbname=prado_app"
                Username="prado_user"
                Password="prado_password" />
    </module>

    <module id="ar" class="System.Data.ActiveRecord.TActiveRecordConfig" ConnectionID="db" />
  
  <module id="auth" class="System.Security.TAuthManager" UserManager="users" LoginPage="login"  AllowAutoLogin="true"/>

    <module id="users" class="System.Security.TUserManager"  />
  </modules>

   <authorization> 
   <!-- Tout le monde doit être connecté sauf la page Login --> 
    <allow pages="Login,Logout" users="?" />
    <deny users="?" />
   </authorization>

  <services>
    <service id="page" class="System.Web.Services.TPageService" DefaultPage="Login">
    <pages MasterClass="Application.layouts.MainLayout" />
  </service>
  </services>
</application>
